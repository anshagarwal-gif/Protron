<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protron - Sign in</title>
    <style>
        body { font-family: system-ui, sans-serif; margin: 0; min-height: 100vh; display: flex; align-items: center; justify-content: center; background: #f0f9ff; }
        .card { background: #fff; border-radius: 12px; padding: 2rem; max-width: 360px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; font-size: 1rem; text-decoration: none; cursor: pointer; border: 1px solid #ddd; background: #fff; color: #333; }
        .btn:hover { background: #f5f5f5; }
        .btn.google { background: #4285f4; color: #fff; border-color: #4285f4; }
        .btn.azure { background: #00a4ef; color: #fff; border-color: #00a4ef; }
        .error { background: #fef2f2; border: 1px solid #fecaca; color: #b91c1c; padding: 12px; border-radius: 8px; margin-bottom: 1rem; font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="card">
        <h1>Protron</h1>
        <p style="color:#666; margin-bottom: 1.5rem;">Sign in with your account. Only registered users can access the dashboard.</p>
        <div id="err" class="error" style="display:none;"></div>
        <a class="btn google" href="./oauth2/authorization/google">Sign in with Google</a>
        <a class="btn azure" href="./oauth2/authorization/azure">Sign in with Microsoft (Outlook)</a>
    </div>
    <script>
        var p = new URLSearchParams(window.location.search).get('error');
        if (p) {
            var msg = { user_not_registered: 'This account is not registered. Contact your administrator.', user_not_active: 'Your account is not active.', oauth_failed: 'Sign-in failed. Try again.' }[p] || 'Sign-in failed.';
            document.getElementById('err').textContent = msg; document.getElementById('err').style.display = 'block';
        }
    </script>
</body>
</html>
